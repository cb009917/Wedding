import{r as n,j as e}from"./index-BgticnMs.js";import"./vendor-Bzgz95E1.js";function E({targetDate:r,showLabels:a=!0,compact:m=!1,onComplete:i}){const[c,h]=n.useState({days:0,hours:0,minutes:0,seconds:0}),[x,f]=n.useState(!1),[j,v]=n.useState(!1),s=n.useRef(null),o=n.useRef(i);n.useEffect(()=>{o.current=i},[i]),n.useEffect(()=>{const l=new Date(r);if(isNaN(l.getTime())){v(!0);return}const u=()=>{const p=new Date(r).getTime(),w=new Date().getTime(),t=p-w;if(t<=0){f(!0),s.current&&clearInterval(s.current),o.current&&o.current();return}const N=Math.floor(t/(1e3*60*60*24)),g=Math.floor(t%(1e3*60*60*24)/(1e3*60*60)),I=Math.floor(t%(1e3*60*60)/(1e3*60)),R=Math.floor(t%(1e3*60)/1e3);h({days:N,hours:g,minutes:I,seconds:R})};return u(),s.current=setInterval(u,1e3),()=>{s.current&&clearInterval(s.current)}},[r]);const d=l=>String(l).padStart(2,"0");return j?e.jsx("div",{className:"countdown-timer",children:e.jsxs("div",{className:"countdown-expired",children:[e.jsx("h2",{children:"Invalid Date"}),e.jsx("p",{children:"Please provide a valid wedding date."})]})}):x?e.jsx("div",{className:"countdown-timer",children:e.jsxs("div",{className:"countdown-expired",children:[e.jsx("h2",{children:"The Big Day Is Here! ðŸŽ‰"}),e.jsx("p",{children:"Congratulations on this special day!"})]})}):e.jsx("div",{className:`countdown-timer ${m?"compact":""}`,"aria-live":"polite",children:e.jsxs("div",{className:"countdown-grid",children:[e.jsxs("div",{className:"countdown-unit",children:[e.jsx("span",{className:"countdown-value",children:c.days}),a&&e.jsx("span",{className:"countdown-label",children:"Days"})]}),e.jsxs("div",{className:"countdown-unit",children:[e.jsx("span",{className:"countdown-value",children:d(c.hours)}),a&&e.jsx("span",{className:"countdown-label",children:"Hours"})]}),e.jsxs("div",{className:"countdown-unit",children:[e.jsx("span",{className:"countdown-value",children:d(c.minutes)}),a&&e.jsx("span",{className:"countdown-label",children:"Minutes"})]}),e.jsxs("div",{className:"countdown-unit",children:[e.jsx("span",{className:"countdown-value",children:d(c.seconds)}),a&&e.jsx("span",{className:"countdown-label",children:"Seconds"})]})]})})}export{E as default};
